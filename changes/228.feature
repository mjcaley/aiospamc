Improved type hints and added verification into CI pipeline.
